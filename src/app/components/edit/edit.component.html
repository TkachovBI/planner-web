<div class="flex justify-center align-middle flex-row pt-56">
  <div
    class="mr-6 w-64 py-4 bg-slate-100 rounded-2xl flex flex-col justify-center align-middle text-center"
  >
    <h1 class="mb-4">Edit event</h1>
    <div>
      <form
        class="w-full px-6 text-left bg-slate-400 bg-opacity-75 py-4"
        [formGroup]="eventForm"
        method="post"
        (ngSubmit)="updateEvent()"
      >
        <div class="mb-2">
          <label for="titleEvent" class="text-left text-sm ml-2"
            >Event title</label
          >
          <input
            id="titleEvent"
            type="text"
            class="rounded-lg w-full px-2"
            formControlName="title"
          />
          <div
            *ngIf="
              eventForm.get('title')!.invalid && eventForm.get('title')!.touched
            "
            class="validation"
          >
            <small
              *ngIf="eventForm.get('title')!.errors!['required']"
              class="text-red-600"
            >
              Field Event title cannot be empty
            </small>

            <small
              *ngIf="eventForm.get('title')!.errors!['minlength']"
              class="text-red-600"
            >
              Write event title longer than 8 symbols
            </small>
          </div>
        </div>
        <div class="mb-2">
          <label for="dateEvent" class="text-left text-sm ml-2"
            >Event date</label
          >
          <input
            id="dateEvent"
            type="date"
            class="rounded-lg w-full px-2"
            formControlName="date"
          />
          <div *ngIf="eventForm.get('date')!.invalid" class="validation">
            <small
              *ngIf="eventForm.get('date')!.errors!['required']"
              class="text-red-600"
            >
              Field Event date cannot be empty
            </small>
          </div>
        </div>
        <div class="mb-4">
          <label for="budgetEvent" class="text-left text-sm ml-2"
            >Event budget</label
          >
          <input
            id="budgetEvent"
            type="number"
            class="rounded-lg w-full px-2"
            formControlName="budget"
          />
          <div
            *ngIf="
              eventForm.get('budget')!.invalid &&
              eventForm.get('budget')!.touched
            "
            class="validation"
          >
            <small
              *ngIf="eventForm.get('budget')!.errors!['required']"
              class="text-red-600"
            >
              Field Event budget cannot be empty
            </small>

            <small
              *ngIf="eventForm.get('budget')!.errors!['minlength']"
              class="text-red-600"
            >
              Write event budget more than 0
            </small>
          </div>
        </div>
        <div class="flex flex-row justify-evenly font-bold text-gray-700">
          <button
            type="submit"
            [disabled]="eventForm.invalid"
            class="bg-green-400 rounded border border-black py-1.5 px-4"
          >
            Update
          </button>
          <button
            type="reset"
            class="bg-red-400 rounded border border-black py-1.5 px-4"
          >
            Cansel
          </button>
        </div>
      </form>
    </div>
  </div>
  <div
    class="mr-6 w-64 py-4 bg-slate-100 rounded-2xl flex flex-col justify-center align-middle text-center"
  >
    <span class="mb-4">Edit socials</span>

    <div class="h-full flex flex-col bg-slate-400 px-2">
      <div class="flex justify-end mb-2 pb-2">
        <button
          class="bg-green-400 text-sm border border-black rounded-full w-fit mr-2 mt-1 px-2 py-0.5"
          (click)="showAddSocialBar = true"
        >
          +
        </button>
      </div>

      <div *ngIf="showAddSocialBar" class="bg-white rounded-md px-2 py-1 mb-1">
        <h3>Create Social</h3>
        <div class="h-px w-full bg-slate-500 mb-2"></div>

        <form action="post" class="flex flex-col items-start text-left">
          <div class="mb-2 flex flex-row space-x-4 items-center">
            <label for="socialName" class="text-sm font-medium text-gray-700"
              >Social name</label
            >
            <select
              name="socialName"
              id="socialName"
              class="border rounded-md border-gray-700 bg-slate-300 px-1.5 text-base font-medium text-gray-600"
            >
              <option value="discord">Discord</option>
              <option value="telegram">Telegram</option>
              <option value="tiktok">Tik Tok</option>
              <option value="facebook">Facebook</option>
              <option value="vk">Vk</option>
              <option value="youtube">YouTube</option>
            </select>
          </div>
          <div class="mb-2 flex flex-row space-x-4 items-center">
            <label for="socialName" class="text-sm font-medium text-gray-700"
              >Status</label
            >
            <select
              name="socialName"
              id="socialName"
              class="border rounded-md border-gray-700 bg-slate-300 px-1.5 text-base font-medium text-gray-600"
            >
              <option value="{{ notPublishedStatus }}">Not published</option>
              <option value="{{ publishedStatus }}">Published</option>
            </select>
          </div>
          <div class="flex w-full justify-evenly">
            <button>Create</button>
            <button>Cansel</button>
          </div>
        </form>
      </div>

      <div
        class="flex flex-row bg-gray-300 items-center p-2 rounded mb-1"
        *ngFor="let social of socials"
      >
        <div class="mr-4" (click)="updateSocialClickHandler(social)">
          <img
            src="../../../assets/Icons/discord.png"
            alt="disicon"
            class="w-8 h-8 rounded-full border-2 {{
              social.status == publishedStatus
                ? 'border-green-500'
                : 'border-red-500'
            }}"
            *ngIf="social.name === 'discord'"
          />
          <img
            src="../../../assets/Icons/vk.png"
            alt="vkIcon"
            class="w-8 h-8 rounded-full  border-2 {{
              social.status == publishedStatus
                ? 'border-green-500'
                : 'border-red-500'
            }}"
            *ngIf="social.name === 'vk'"
          />
          <img
            src="../../../assets/Icons/telegram.png"
            alt="telegramIcon"
            class="w-8 h-8 rounded-full  border-2 {{
              social.status == publishedStatus
                ? 'border-green-500'
                : 'border-red-500'
            }}"
            *ngIf="social.name === 'telegram'"
          />
          <img
            src="../../../assets/Icons/facebook.png"
            alt="facebookIcon"
            class="w-8 h-8 rounded-full  border-2 {{
              social.status == publishedStatus
                ? 'border-green-500'
                : 'border-red-500'
            }}"
            *ngIf="social.name === 'facebook'"
          />
          <img
            src="../../../assets/Icons/inst.png"
            alt="instIcon"
            class="w-8 h-8 rounded-full  border-2 {{
              social.status == publishedStatus
                ? 'border-green-500'
                : 'border-red-500'
            }}"
            *ngIf="social.name === 'instagram'"
          />
          <img
            src="../../../assets/Icons/tiktok.png"
            alt="tiktokIcon"
            class="w-8 h-8 rounded-full  border-2 {{
              social.status == publishedStatus
                ? 'border-green-500'
                : 'border-red-500'
            }}"
            *ngIf="social.name === 'tiktok'"
          />
        </div>
        <div class="text-lg font-semibold text-gray-600">
          {{ social.name.charAt(0).toUpperCase() + social.name.slice(1) }}
        </div>
        <div class="ml-auto mr-4" (click)="deleteSocial(social.id)">
          <img
            class="w-6 h-6"
            src="../../../assets/Icons/Delete.png"
            alt="deleteIcon"
          />
        </div>
      </div>
    </div>
  </div>
  <div
    class="w-64 py-4 bg-slate-100 rounded-2xl flex flex-col justify-center align-middle text-center"
  >
    Edit links
  </div>
</div>
<div class="flex justify-center flex-row mt-4">
  <button
    class="flex flex-row bg-yellow-400 px-4 py-2 rounded-md"
    (click)="backToCalendar()"
  >
    <img
      src="../../../assets/Icons/Calendar.svg"
      alt="calendar icon"
      class="mr-1 my-auto"
    />
    Back
  </button>
</div>
<div
  *ngIf="showShureWindow"
  class="absolute top-0 bottom-0 right-0 left-0 bg-slate-700 opacity-90 z-50 flex justify-center"
>
  <div class="w-1/5 bg-white my-auto flex flex-col p-4 rounded-2xl">
    <img
      src="../../../assets/Icons/Question.png"
      alt="question icon"
      class="w-8 h-8 mx-auto"
    />
    <div class="w-full h-0.5 bg-gray-700 mt-2 rounded-sm"></div>
    <h3 class="m-auto text-lg font-medium text-red-400">
      You want to change social status?
    </h3>
    <div class="flex justify-evenly mt-4 text-lg font-semibold">
      <button
        (click)="updateSocial()"
        class="py-2 px-4 bg-green-400 rounded-2xl"
      >
        Submit
      </button>
      <button
        (click)="closeShowWindow()"
        class="py-2 px-4 bg-red-400 rounded-2xl"
      >
        Can—Åel
      </button>
    </div>
  </div>
</div>

<div class="loadingContainer" *ngIf="isLoadingWindowActive">
  <div class="loading-text">
    <span class="loader">Loading...</span>
    <div class="load_anim1"></div>
    <div class="load_anim2"></div>
  </div>
</div>
